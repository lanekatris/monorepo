---
import Layout from '../layouts/BlogPost.astro'
const activitiesByDay = [
	{
		date: '2025-06-25',
		activities: [
			{
				thing: 'vitamins',
				points: 1
			},
			{
				thing: 'core',
				points: 10
			}
		]
	},
	{
		date: '2025-06-24',
		activities: []
	},

	{
		date: '2025-06-23',
		activities: []
	},

	{
		date: '2025-06-22',
		activities: [
			{
				thing: 'gym',
				points: 50
			}
		]
	}
]

// Compute point totals and comparisons
// const daysWithTotals = days.map((day, idx) => {
// 	const total = day.data.reduce((sum, a) => sum + a.points, 0)
// 	const previous =
// 		idx < days.length - 1 ? days[idx + 1].data.reduce((sum, a) => sum + a.points, 0) : null
//
// 	let delta = null
// 	if (previous !== null) {
// 		delta = total > previous ? '‚¨ÜÔ∏è' : total < previous ? '‚¨áÔ∏è' : 'üôÑ'
// 	}
//
// 	return {
// 		...day,
// 		total,
// 		delta
// 	}
// })

// const daysWithTotals = activitiesByDay.map((day, idx) => {
// 	const rawTotal = day.activities.reduce((sum, a) => sum + a.points, 0)
//
// 	const previousDay = activitiesByDay[idx + 1]
// 	const previousTotal = previousDay
// 		? previousDay.activities.reduce((sum, a) => sum + a.points, 0)
// 		: null
//
// 	// Apply penalty if previous day had 0 points
// 	const penalty = previousTotal === 0 ? 5 : 0
// 	const adjustedTotal = rawTotal - penalty
//
// 	let delta = null
// 	if (previousTotal !== null) {
// 		const previousAdjusted = previousTotal
// 		delta = adjustedTotal > previousAdjusted ? '‚Üë' : adjustedTotal < previousAdjusted ? '‚Üì' : '‚Äì'
// 	}
//
// 	return {
// 		...day,
// 		total: adjustedTotal,
// 		delta,
// 		penalty: penalty > 0 ? `(-${penalty} penalty)` : null
// 	}
// })
//
// let runningTotal = 0
// const daysWithTotals = []
//
// for (let i = 0; i < activitiesByDay.length; i++) {
// 	const day = activitiesByDay[i]
// 	const rawTotal = day.activities.reduce((sum, a) => sum + a.points, 0)
//
// 	// Check previous day's total
// 	const prevDay = activitiesByDay[i + 1]
// 	const prevTotal = prevDay ? prevDay.activities.reduce((sum, a) => sum + a.points, 0) : null
//
// 	// If previous day was 0 points, apply -5 penalty
// 	const penalty = prevTotal === 0 ? 5 : 0
// 	const adjustedTotal = rawTotal - penalty
//
// 	runningTotal += adjustedTotal
//
// 	const prevRunningTotal = i === 0 ? null : daysWithTotals[i - 1].runningTotal
// 	const delta =
// 		prevRunningTotal === null
// 			? null
// 			: runningTotal > prevRunningTotal
// 				? '‚Üë'
// 				: runningTotal < prevRunningTotal
// 					? '‚Üì'
// 					: '‚Äì'
//
// 	daysWithTotals.push({
// 		...day,
// 		rawTotal,
// 		adjustedTotal,
// 		penalty: penalty > 0 ? `(-${penalty} penalty)` : null,
// 		runningTotal,
// 		delta
// 	})
// }
---

<Layout title="Fitness 2" pubDate={new Date('January 18 2025')}>
	<!--<ol>-->
	<!--	{-->
	<!--		daysWithTotals.map((day) => (-->
	<!--			<li>-->
	<!--				<div>-->
	<!--					<strong>{day.date}</strong>-->
	<!--				</div>-->
	<!--				<div>-->
	<!--					Raw Total: {day.rawTotal}-->
	<!--					{day.penalty && <span style="color: red; margin-left: 0.5rem;">{day.penalty}</span>}-->
	<!--				</div>-->
	<!--				<div>-->
	<!--					Running Total: {day.runningTotal}-->
	<!--					{day.delta && <span class="delta">{day.delta}</span>}-->
	<!--				</div>-->
	<!--				<ul>-->
	<!--					{day.activities.map((act) => (-->
	<!--						<li>-->
	<!--							{act.name} (+{act.points})-->
	<!--						</li>-->
	<!--					))}-->
	<!--					{day.activities.length === 0 && <li>No activity</li>}-->
	<!--				</ul>-->
	<!--			</li>-->
	<!--		))-->
	<!--	}-->
	<!--</ol>-->
</Layout>
